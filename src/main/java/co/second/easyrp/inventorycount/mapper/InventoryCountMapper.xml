<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="co.second.easyrp.inventorycount.mapper.InventoryCountMapper">
	<select id="inventoryCountList">
		SELECT *
		FROM inventorycountlist
		WHERE deleteyn = 'N'
		<if test="cod != null and cod != ''">
			AND cod = #{cod}
		</if>
		<if test="employeeCod != null and employeeCod != ''">
			AND obound_warehouse LIKE CONCAT('%', #{oboundWarehouse}, '%')
		</if>
		<if test="product_cod != null and product_cod != ''">
			AND obound_location LIKE CONCAT('%', #{oboundLocation}, '%')
		</if>
		<if test="warehouse != null and warehouse != ''">
			AND ibound_warehouse LIKE CONCAT('%', #{iboundWarehouse}, '%')
		</if>
		<if test="location != null and location != ''">
			AND ibound_location LIKE CONCAT('%', #{iboundLocation}, '%')
		</if>
		<if test="invCod != null and invCod != ''">
			AND inv_cod = #{invCod}
		</if>
		<if test="preSearchDate != null and postSearchDate != null">
			AND count_date BETWEEN #{preSearchDate} AND #{postSearchDate}
		</if>
		ORDER BY cod DESC
		LIMIT #{pageSize} OFFSET #{offset}
	</select>
</mapper>